<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Productos | Pm Publicidad</title>

    <!-- vue -->
    <script src="https://vuejs.org/js/vue.min.js"></script>
    
    <!-- axios -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- iconos materialize -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- estilo css -->
    <link rel="stylesheet" href="css/estilo.css">

    <!-- font awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">

    <!-- scripts de js -->
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <script src="js/script.js"></script>
</head>
<body>
    <header>
        <!-- BARRA DE NAVEGACION -->
        <nav class="nav-wrapper barra">
            <div class="row">
                <!-- LOGO DE LA EMPRESA -->
                <div class="logo col s5">
                    <a href="index.html" class="brand-logo logo1"><img src="imagenes/logo2.png"></a>
                </div>
            </div>
            <a href="#" data-target="mobile-demo" class="sidenav-trigger right"><i class="large material-icons white-text">menu</i></a>
            <div class="col s7  menu">
                <ul id="nav-mobile" class="right hide-on-med-and-down">
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="quienessomos.html">Quienes somos</a></li>
                    <li><a href="servicios.html">Servicios</a></li>
                    <li><a href="productos.html">Productos</a></li>
                    <li><a href="cotiza.html">Cotiza</a></li>
                    <li><a href="contactanos.html">Contáctanos</a></li>    
                </ul>
            </div>
        </nav>
    
        <!-- MENU DE HAMBURGUESA PARA DISPOSITIVOS MEDIUM Y SMALL -->
        <ul class="sidenav" id="mobile-demo">
           <!-- <li><i class="material-icons right white-text cerrar">close</i></li> -->
           <div class="lista-menu">
                <li class="center">
                    <a href="index.html" class="brand-logo logo1"><img src="imagenes/logo2.png"></a>
                </li>
                <br>
                <li><a href="index.html" class="white-text center">Inicio</a></li>
                <li><a href="quienessomos.html" class="white-text center">Nosotros</a></li>
                <li><a href="servicios.html" class="white-text center">Servicios</a></li>
                <li><a href="productos.html" class="white-text center">Productos</a></li>
                <li><a href="cotiza.html" class="white-text center">Cotiza</a></li>
                <li><a href="contactanos.html" class="white-text center">Contáctanos</a></li>   
            </div>
        </ul>
    
        <!-- banner -->
        <div class="banner">
            <img src="imagenes/nosotros.jpg" alt="banner de inicio" width="100%">
            <h1 class="leyenda center"><span><i class="fas fa-tshirt"></i></span>Productos</h1>
        </div>
    </header>

    <main>
    <div id="productos">
        <div class="row">
            <!-- <div class="col s3">
                <label for="">sucursales</label>
                <select class="browser-default" name="" id="" v-model="seleccionarSucursal">
                    <option selected>Todas</option>
                    <option>Santa Ana 1</option>
                    <option>Santa Ana 2</option>
                    <option>San Salvador</option>
                </select>
            </div> -->

            <div class="col s3 offset-s1">
                <div class="busqueda">
                    <label class="center">Categorías</label>
                    <select class="browser-default" name="" id="" v-model="seleccionarCategoria">
                        <option selected>Todas</option>
                        <option>Bordados</option>
                        <option>Confección</option>
                        <option>Sublimación</option>
                        <option>Serigrafía</option>
                        <option>Impresión Digital</option>
                        <option>Artículos Promocionales</option>
                        <option>Impresión Láser</option>
                        <option>Rotulaciones</option>
                        <option>Letras Encajueladas</option>
                        <option>Productos para Serigrafía</option>
                        <option>Servicios de Instalación</option>
                    </select>
                </div>
            </div>

            <div class="col s4 offset-s1">
                <label for="">busqueda</label>
                <input type="text" placeholder="Buscar" v-model="buscar">
            </div>
        </div>
        
        <br><br><br><br>
                
        <div class="seccion-productos">
                <div class="row" v-if="filtrarProductos.length">
                    <div class="col s12 m6 l3" v-for="producto in productos" v-bind:key="producto.id_producto">
                        <div class="card tarjeta-prd">
                            <div class="imagen-prd">
                                <img src="https://images.pexels.com/photos/1313267/pexels-photo-1313267.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940" alt="">
                            </div>
                            <div class="detalles-prd">
                                <p class="white-text">{{producto.nombre}}</p>
                                <br>
                                <p class="white-text">{{producto.categoria}}</p>
                                <br>
                                <a href="#detalles" class="btn btn-small white-text modal-trigger" v-on:click="abrirSelec(producto)">Detalles</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row" v-else>
                    no hay resultados
                </div>

                 <!-- modal -->
                <div id="detalles" class="modal modal-fixed-footer">
                    <div class="modal-content">
                        <h4 class="center">{{seleccion.nombre}}</h4>
                        <div class="row">
                            <div class="col s12 m6 l6 center asd">
                                <img src="https://images.pexels.com/photos/1313267/pexels-photo-1313267.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940" alt="" class="cyan">
                            </div>

                            <div class="col s12 m6 l6 center">
                                <p>Descripción:</p>
                                <p>{{seleccion.descripcion}}</p>
                            </div>
                        </div>
                        
                    </div>
                    <div class="modal-footer cerrar-modal">
                        <a href="#!" class="modal-close waves-effect waves-green btn-flat">Cerrar x</a>
                    </div>
                </div>
            
        </div>
    </div>
    </main>
    
    <footer>
            <div class="footer center">
                <div class="row">
                    <div class="col s12 m6 l4 f-logo">
                        <img src="imagenes/logo2.png" alt="" width="60%">
                       
                    </div>
                    <div class="col s12 m6 l4">
                        <p>Contáctanos.</p>
                        <p><i class="far fa-envelope iconos"></i> pmpublicidadventas@gmail.com</p>
                        <p><i class="fas fa-phone iconos"></i> +(503) 2406-6563</p>
                        <p><i class="fab fa-whatsapp iconos"></i> +(503) 7580-1762</p>
                    </div>
                    <div class="col s12 m6 l4">
                        <p>Síguenos:</p>
                        <p class="icono"><a href="https://es-la.facebook.com/pages/category/Product-Service/Pm-Publicidad-83252799961/" target="_blank"><i class="fab fa-facebook-square" id="iconoRedes"></i></a></p>
                        <br>
                        <a href="cotiza.html" class="btn btn-small cyan"><p>¡Cotiza aquí!</p></a>
                    </div>
                </div>
                <br>
                <p class="center">Derechos Reservados &copy; PmPublicidad 2019.</p>
            </div>
        </footer>
    
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <script>
    new Vue ({
        el: '#productos',

        data: function() {
            return {
                productos: [
                    {
                    id_sucursal: 1,
                    categoria: "bordados",
                    nombre: "camisas",
                    descripcion: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea voluptatibus repellat, facilis temporibus vitae ad iste voluptates corporis error architecto aut officia perspiciatis, rerum perferendis aspernatur ut minima eius! Nihil."
                    },

                    {
                    id_sucursal: 1,
                    categoria: "impresion laser",
                    nombre: "banners",
                    descripcion: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea voluptatibus repellat, facilis temporibus vitae ad iste voluptates corporis error architecto aut officia perspiciatis, rerum perferendis aspernatur ut minima eius! Nihil."
                    },

                    {
                    id_sucursal: 1,
                    categoria: "impresion digital",
                    nombre: "afiche",
                    descripcion: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea voluptatibus repellat, facilis temporibus vitae ad iste voluptates corporis error architecto aut officia perspiciatis, rerum perferendis aspernatur ut minima eius! Nihil."
                    },

                    {
                    id_sucursal: 2,
                    categoria: "instalaciones",
                    nombre: "instalacion de rotulos",
                    descripcion: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea voluptatibus repellat, facilis temporibus vitae ad iste voluptates corporis error architecto aut officia perspiciatis, rerum perferendis aspernatur ut minima eius! Nihil."
                    },

                    {
                    id_sucursal: 2,
                    categoria: "serigrafia",
                    nombre: "tazas",
                    descripcion: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea voluptatibus repellat, facilis temporibus vitae ad iste voluptates corporis error architecto aut officia perspiciatis, rerum perferendis aspernatur ut minima eius! Nihil."
                    },

                    {
                    id_sucursal: 2,
                    categoria: "serigrafia",
                    nombre: "camisas",
                    descripcion: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea voluptatibus repellat, facilis temporibus vitae ad iste voluptates corporis error architecto aut officia perspiciatis, rerum perferendis aspernatur ut minima eius! Nihil."
                    },

                    {
                    id_sucursal: 3,
                    categoria: "serigrafia",
                    nombre: "pachones",
                    descripcion: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea voluptatibus repellat, facilis temporibus vitae ad iste voluptates corporis error architecto aut officia perspiciatis, rerum perferendis aspernatur ut minima eius! Nihil."
                    },

                    {
                    id_sucursal: 3,
                    categoria: "confeccion",
                    nombre: "camisas",
                    descripcion: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Ea voluptatibus repellat, facilis temporibus vitae ad iste voluptates corporis error architecto aut officia perspiciatis, rerum perferendis aspernatur ut minima eius! Nihil."
                    }
                ],
                seleccion: "",
                buscar: "",
                seleccionarSucursal: "todas",
                seleccionarCategoria: "todas"
            }
        },

        methods: {
            abrirSelec(id_producto) {
                this.seleccion = id_producto;
            }
        },

        computed: {
            filtrarProductos: function() {
                return this.filtrarCategoria.filter((producto)=> {
                    return producto.nombre.toLowerCase().match(this.buscar.toLowerCase());
                })
            },

            filtrarCategoria: function() {
                var fil = this;
                var categoria = fil.seleccionarCategoria;

                if(categoria.toLowerCase() === "todas") {
                    return fil.productos;
                } else {
                    return fil.productos.filter(function(producto){
                        return producto.categoria === categoria;
                    })
                }
            }
        }

        // mounted() {
        //     axios.get("http://192.168.22.115/pm/api/categoria")
        //     .then(res => {
        //         this.productos = res.data;
        //         console.log(res.data);
        //     })
        //     .catch(err => {
        //         console.log(err);
        //     })
        // }
    });
    
    </script>
</body>
</html>